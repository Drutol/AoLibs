



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.1, mkdocs-material-3.0.3">
    
    
      
        <title>Dialogs - AoLibs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.451f80e5.css">
      
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
      <link rel="stylesheet" href="../css/default.css">
    
      <link rel="stylesheet" href="../css/extra.css">
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="../#dialogs" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="AoLibs" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                AoLibs
              </span>
              <span class="md-header-nav__topic">
                Dialogs
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/Drutol/AoLibs/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      Drutol/AoLibs
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="AoLibs" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    AoLibs
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/Drutol/AoLibs/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      Drutol/AoLibs
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../installation/" title="Installation" class="md-nav__link">
      Installation
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../about/" title="About" class="md-nav__link">
      About
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../navigation/" title="Navigation" class="md-nav__link">
      Navigation
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../navigation-android/" title="Android Navigation" class="md-nav__link">
      Android Navigation
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../navigation-ios/" title="iOS Navigation" class="md-nav__link">
      iOS Navigation
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../adapters/" title="Adapters" class="md-nav__link">
      Adapters
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../adapters-android/" title="Android Adapters" class="md-nav__link">
      Android Adapters
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../android-recycler-adapters/" title="Android Recycler Adapters" class="md-nav__link">
      Android Recycler Adapters
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../app-variables/" title="AppVariables" class="md-nav__link">
      AppVariables
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Dialogs
      </label>
    
    <a href="./" title="Dialogs" class="md-nav__link md-nav__link--active">
      Dialogs
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#setup" title="Setup" class="md-nav__link">
    Setup
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#quick-start" title="Quick Start" class="md-nav__link">
    Quick Start
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dialog" title="Dialog" class="md-nav__link">
    Dialog
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#viewmodel" title="ViewModel" class="md-nav__link">
    ViewModel
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#features" title="Features" class="md-nav__link">
    Features
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flavours" title="Flavours" class="md-nav__link">
    Flavours
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../dialogs-android/" title="Android Dialogs" class="md-nav__link">
      Android Dialogs
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../dialogs-ios/" title="iOS Dialogs" class="md-nav__link">
      iOS Dialogs
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../utilities/" title="Utilities" class="md-nav__link">
      Utilities
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../utilities-android/" title="Android Utilities" class="md-nav__link">
      Android Utilities
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../utilities-ios/" title="iOS Utilities" class="md-nav__link">
      iOS Utilities
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../android-listeners/" title="Android Listeners" class="md-nav__link">
      Android Listeners
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../android-layout-to-cs/" title="Android Layout to C#" class="md-nav__link">
      Android Layout to C#
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#setup" title="Setup" class="md-nav__link">
    Setup
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#quick-start" title="Quick Start" class="md-nav__link">
    Quick Start
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dialog" title="Dialog" class="md-nav__link">
    Dialog
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#viewmodel" title="ViewModel" class="md-nav__link">
    ViewModel
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#features" title="Features" class="md-nav__link">
    Features
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flavours" title="Flavours" class="md-nav__link">
    Flavours
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/Drutol/AoLibs/tree/gh-pages/AoLibs/docs/dialogs.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="dialogs">Dialogs</h1>
<p>This set of libraries is meant to provide easy management of dialogs from ViewModels in your Xamarin apps. It provides means of invoking dialogs, awaiting their results and streamlinining dialog creation in respective platform specific projects.</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>The dialogs here are not stock message dialogs provided by the platforms. The dialogs here are modal windows with completly custom UI required for more specific scenarios.</p>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>In the essence the mechanism here is very simillar to AoLibs' naviagtion solution.</p>
</div>
<p>I tried to find the best balance between passing instances as <code>object</code> arguments and using generics in order not to make the code overly complex.</p>
<h2 id="setup">Setup</h2>
<p>The dialog consists of its <code>ViewModel</code> paired with implementation of <code>ICustomDialog</code> interface in platform projects. All registered dialogs are handled by <code>ICustomDialogsManager</code> which can be injected into your page ViewModels. <code>ICustomDialog</code> defines methods to manipulate the dialog.</p>
<p>Additional caveats will be described in subpages for each platfrom.</p>
<h3 id="quick-start">Quick Start</h3>
<p>Steps:</p>
<ul>
<li>Define an enum which will contain identifiers for all your dialogs, <code>DialogIndex</code> for example.</li>
<li>Create dialog's ViewModel inheriting <code>CustomDialogViewModelBase</code> in your shared project.</li>
<li>Create implementation of <code>ICustomDialog</code> in your platform specific project by inheriting <code>CustomDialogBase</code>.</li>
<li>During app startup create instance of <code>CustomDialogsManagerBase</code> passing dictionary matching dialog identifiers with providers of your's dialog definition.</li>
<li>Inject <code>ICustomDialogsManager</code> to your page ViewModel and access the dialog.</li>
</ul>
<h2 id="dialog">Dialog</h2>
<p>Dialog is defined by <code>ICustomDialog</code> interface and is implemented separately on each platorm. Aside from basic funtions like Show&amp;Hide it allows to await result:</p>
<pre><code class="cs">Task&lt;TResult&gt; AwaitResult&lt;TResult&gt;(CancellationToken token = default);
</code></pre>

<p>The dialog also has its parameter to give a context for its invocation, you can pass it to <code>Show()</code> method. You can pass anything there as it's an argument of <code>object</code> type.</p>
<h2 id="viewmodel">ViewModel</h2>
<p>The ViewModel for our dialog must inherit from <code>CustomDialogViewModelBase</code> which provides callbacks for dialog's lifetime as well as utility methods to access the dialog itself and manage the possibly awaited result of dialog's execution. Additionally from ViewModel you can define simple dialog config shared by both platforms.</p>
<h3 id="features">Features</h3>
<ul>
<li>
<p>Dialog config</p>
<p>You can override <code>CustomDialogConfig</code> property in order to provide custom config defining basic characteristics of a dialog such as:</p>
<ul>
<li><code>Gravity</code> - defining side of screen where dialog should be shown.</li>
<li><code>IsCancellable</code> - can dialog be cancelled by tapping outside or using back button.</li>
<li><code>StretchHorizontally</code> - whether to stretch container horizontally</li>
<li><code>StretchVertically</code>- whether to stretch container vertically</li>
</ul>
</li>
<li>
<p>Access to dialog instance</p>
<p>You can access the dialog itself with additional methods to manipulate the dialog's result.</p>
</li>
<li>
<p>Lifecycle callbacks</p>
<p>You can override methods that indicate that dialog has been shown or hidden.</p>
</li>
</ul>
<h3 id="flavours">Flavours</h3>
<p>With <code>CustomDialogViewModelBase</code> being the very base dialog ViewModel there are others that provide additional functionality.</p>
<ul>
<li><code>CustomDialogViewModelWithParameterBase</code> allows to define generic parameter of the argument that will be passed when showing the dialog. Additional method to override is provided <code>OnDialogAppeared</code> which will pass given type instead of an <code>object</code></li>
</ul>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../app-variables/" title="AppVariables" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                AppVariables
              </span>
            </div>
          </a>
        
        
          <a href="../dialogs-android/" title="Android Dialogs" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Android Dialogs
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2018 Piotr Szymczak
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    <link rel="stylesheet" href="../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/Drutol/AoLibs" class="md-footer-social__link fa fa-github"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.583bbe55.js"></script>
      
      <script>app.initialize({version:"1.0.1",url:{base:".."}})</script>
      
        <script src="../js/hljs.js"></script>
      
    
    
      
    
  </body>
</html>